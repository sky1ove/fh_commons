# Core


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Setup

## Headers

> css, javascripts

### Bootstrap

``` python
tooltip_js = Script("""
        document.addEventListener('htmx:load', function() {
            var tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
            var tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
        });
    """)
```

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L20"
target="_blank" style="float:right; font-size:smaller">source</a>

### bootstrap_hdrs

>      bootstrap_hdrs (include_icon=True, include_tooltip=True)

### Datatables for dynamic table

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L39"
target="_blank" style="float:right; font-size:smaller">source</a>

### datatable_hdrs

>      datatable_hdrs ()

### Conditional Pico

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L48"
target="_blank" style="float:right; font-size:smaller">source</a>

### cond_pico_hdrs

>      cond_pico_hdrs ()

### Copy TextArea js

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L53"
target="_blank" style="float:right; font-size:smaller">source</a>

### copy_js

>      copy_js ()

### Autocomplete js

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L58"
target="_blank" style="float:right; font-size:smaller">source</a>

### autocomplete_js

>      autocomplete_js ()

### Download csv/svg js

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L64"
target="_blank" style="float:right; font-size:smaller">source</a>

### download_js

>      download_js ()

## show() in cell magic

Fasthtml updates in the latest version that in jupyter notebook, no need
to use show() when importing fasthtml.jupyter

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L70"
target="_blank" style="float:right; font-size:smaller">source</a>

### s

>      s (line, cell)

Use %%s in a cell, so that you donâ€™t have to wrap everything in show()

``` python
P('sdf')
```

<p>sdf</p>
<script>if (window.htmx) htmx.process(document.body)</script>

## Jupyter live on colab

### Initiate ngrok tunnel

> get public url that connect to localhost:8000

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L104"
target="_blank" style="float:right; font-size:smaller">source</a>

### start_ngrok

>      start_ngrok (token, port=8000)

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L119"
target="_blank" style="float:right; font-size:smaller">source</a>

### kill_ngrok

>      kill_ngrok ()

*Disconnect the specified ngrok url*

Find ngrok token in
https://dashboard.ngrok.com/get-started/your-authtoken

``` python
# ask users to type ngrok token
# from getpass import getpass
# token = getpass("Type your token: ")

# or directly import token variable 
from ngrok_token import *

url = start_ngrok(token)
```

    ngrok tunnel opened at: https://4a67-3-81-185-19.ngrok-free.app

### Show Live page in jupyter cell

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L125"
target="_blank" style="float:right; font-size:smaller">source</a>

### htmx

>      htmx (url, path='')

*An iframe which displays the HTMX application in a notebook.*

Example:

``` python
# url = start_ngrok(YOUR_NGROK_TOKEN)
app,rt = fast_app(live=True)
server = JupyUvi(app)
```

<script>
document.body.addEventListener('htmx:configRequest', (event) => {
    if(event.detail.path.includes('://')) return;
    htmx.config.selfRequestsOnly=false;
    event.detail.path = `${location.protocol}//${location.hostname}:8000${event.detail.path}`;
});
</script>

``` python
@rt
def index():
    return Titled('Hello, Jupyter',
           P('Welcome to the FastHTML + Jupyter example'),
           Button('Click', hx_get='/click', hx_target='#dest'),
           Div(id='dest')
    )

@app.get
def click():
    return P('Hi')
```

``` python
htmx(url,'/') # click `visit site`
```

<iframe src="https://4a67-3-81-185-19.ngrok-free.app/" style="width: 100%; height: auto; border: none;" onload="{
        let frame = this;
        window.addEventListener('message', function(e) {
            if (e.data.height) frame.style.height = (e.data.height+1) + 'px';
        }, false);
    }" allow="accelerometer; autoplay; camera; clipboard-read; clipboard-write; display-capture; encrypted-media; fullscreen; gamepad; geolocation; gyroscope; hid; identity-credentials-get; idle-detection; magnetometer; microphone; midi; payment; picture-in-picture; publickey-credentials-get; screen-wake-lock; serial; usb; web-share; xr-spatial-tracking"></iframe> 

### push() in cell magic

------------------------------------------------------------------------

<a
href="https://github.com/sky1ove/fh_commons/blob/main/fh_commons/core.py#L136"
target="_blank" style="float:right; font-size:smaller">source</a>

### p

>      p (line, cell)

Instead of wrapping everything in push, use %%p in a cell to do the same
thing

``` python
# url = start_ngrok(YOUR_NGROK_TOKEN)
# app,rt = fast_app(exts='ws', live=True)
# server = JupyUvi(app) # JupyUvi is replaced with ws_client and setup_ws in the latest version
# push = Pusher(app)

# @app.get
# def click():
#     return P('hi')

# %%p
# A('click',hx_get='/click',hx_target='#dest'),Div(id='dest')

# HTMX_public(url)

# server.stop()
```

``` python
server.stop()
kill_ngrok()
```

    ngrok tunnel killed
